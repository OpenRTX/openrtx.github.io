# CS7000-M17

## Device Models
- Connect Systems CS7000-M17
- Connect Systems CS7000-M17 Plus

The CS7000-M17 series represents the first amateur digital radios specifically designed for M17 protocol support while maintaining compatibility with traditional DMR and analog modes.

## Model Variants

### CS7000-M17 (Standard)
- Basic M17/DMR/Analog radio
- Optional GPS module
- Standard processing capabilities

### CS7000-M17 Plus
- Built-in GPS
- Built-in Bluetooth
- Man Down Sensor
- Vibrator
- Enhanced processing (3x faster processor)
- Expanded memory configuration
- Advanced protocol development capabilities

## Specifications

### Common Specifications (Both Models)
* **Display**: 1.8" color TFT, 160x128 resolution
* **Frequency Range**: 400-512 MHz (UHF)
* **Receiver Type**: Dual Conversion Superhetrodyne
* **Front-end**: Varactor tuning
* **Battery**: 2400 mAh with belt clip
* **Waterproof Rating**: IP67
* **Programming Port**: Compatible with Motorola
* **Accessories Included**: Programming cable, power supply, and charger

### Memory Configuration

| Component | CS7000-M17 | CS7000-M17 Plus |
|-----------|-------------|------------------|
| Flash Memory | 128MB | 256MB |
| Code Memory | 1MB | 2MB |
| RAM | 384KB | 1MB |

## Hardware Configuration

### MCU and Baseband
* **MCU**: STM32F405VG (CS7000-M17), STM32H743VI (CS7000-M17 Plus)
* **DMR Baseband**: HR-C6000
* **RF Chip**: SKY72310
* **Display Controller**: HX8302A
* **Non-volatile Memory**: 25Q128FV SPI flash
* **GPS**: MC-1010-2RE (Plus model built-in, standard model optional)

### Additional Hardware (Plus Model Only)
* Built-in Bluetooth module
* Man Down Sensor
* Vibrator motor
* Enhanced processing unit (3x faster than standard DMR radios)

## Firmware Features

### Multi-Protocol Support
The CS7000-M17 series supports multiple digital protocols:
- **M17 Protocol**: Native support for the open-source M17 digital mode
- **DMR**: Full DMR digital mode compatibility
- **Analog**: Traditional FM analog operation

### DMR Mode Features
* Digital encryption
* Voice auto record
* Channel voice announcement
* CTCSS/DCS encode and decode
* DTMF/MDC1200/2 Tone/5 Tone encode and decode
* Dual priority scan
* VOX (Voice Operated eXchange)
* Kill/Revive functionality
* DMR slot, color code, and contact support

## Development Features

### Enhanced Development Capabilities (Plus Model)
- Increased program memory for complex protocol stacks
- Expanded Flash and RAM

## Build Instructions
The CS7000 plus adopts a relatively complex procedure for storage of firmware.  First, it stores two different applications, and must be rebooted between use of DMR and M17.  

If you need to flash the radio, the instructions are here:
[CS7000 M17 Plus Software](https://www.connectsystems.com/amateur-software/CS7000_m17_plus_software.html)

Flashing the radio in the factory manner requires windows and the use of the factory flash tool.

If you all you want on the radio is openRTX for FM/M17 use, there is an alternate procedure that involves rebuilding/linking OpenRTX.  That procedure can be done on Linux/Mac.  

Again, be aware, you will *NOT* have DMR capability if you flash the radio this way. 
 
Procedure follows:

Make the following modifications:

[meson.build](https://github.com/OpenRTX/OpenRTX/blob/master/meson.build) (currently on line 892)
The code section looks like this:

```
{
  'name'     : 'cs7000p',
  'opts'     : cs7000p_opts,
  'flashable': true,
  'wrap'     : ' ',
  'load_addr': '0x08100000'
},
```

You need to replace the `load_addr` with `0x08000000`

And the second file: 
[linker_script_cs7000p.ld](https://github.com/OpenRTX/OpenRTX/blob/master/platform/mcu/STM32H7xx/linker_script_cs7000p.ld) (currently line 52)

The code section looks like this: 

```
MEMORY
{
    flash(rx)   : ORIGIN = 0x08100000, LENGTH = 1M

    /* NOTE: for now wer support only the AXI SRAM */
    ram(wx)     : ORIGIN = 0x24000200, LENGTH =  512K-0x200
}
```

Again, you need to replace the "origin" variable with `0x08000000`

When this is complete, build the firmware using the commands from the developer's guide:

```bash
meson setup --cross-file cross_cm7.txt build_arm
```

Then put the radio into dfu mode (press TK1 and hold while turning the radio on -- you should see a grey screen)

Then run: 
```bash
meson compile -C build_arm openrtx_cs7000p_flash
```
This will take a while without a lot of output, and there won't be any indication on the radio.  Just wait.

Eventually you'll get some output and then it should finish up with this:

```
DfuSe interface name: "Internal Flash   "
Downloading element to address = 0x08000000, size = 200496
Erase   	[=========================] 100%       200496 bytes
Erase    done.
Download	[=========================] 100%       200496 bytes
Download done.
File downloaded successfully
```

The size could be slightly different if you're not building the same version as this was taken from, but the start address is what's important.  

Reboot the radio and it will boot into OpenRTX.  You will *NOT* have DMR capability if you flash the radio this way.  



## Technical Notes

### Unique Characteristics
- First amateur digital radio designed specifically for M17 protocol
- Hardware optimized for multi-protocol operation
- Enhanced memory architecture supporting protocol flexibility
- Professional-grade build quality with IP67 rating

### Development Considerations

---

*Information gathered from Connect Systems product specifications at:*
- *https://www.connectsystems.com/products/top/radios/CS7000_M17.htm*
- *https://www.connectsystems.com/products/top/radios/CS7000_M17_PLUS.htm*  
- *https://www.connectsystems.com/amateur-products/CS7000-M17-plus.html*